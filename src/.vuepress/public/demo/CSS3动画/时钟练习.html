<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>时钟练习</title>
    <style type="text/css">
      * {
        padding: 0;
        margin: 0;
      }
      li {
        list-style: none;
      }
      #container {
        width: 400px;
        height: 400px;
        border-radius: 50%;
        border: 20px solid #373f4a;
        background-color: #262c33;
        position: relative;
        margin: 20px auto;
      }
      #container ul {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        position: relative;
      }
      #container li {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: #d4d5d6;
        position: absolute;
        top: 10px;
        left: 50%;
        margin-left: -5px;
        transform-origin: 5px 190px;
      }
      #container li:nth-child(5n + 1) {
        height: 20px;
        border-radius: 5px;
      }
      #container li:nth-child(15n + 1) {
        height: 30px;
        border-radius: 5px;
      }
      .hour {
        width: 14px;
        height: 105px;
        background-color: #ffffff;
        position: absolute;
        left: 50%;
        margin-left: -7px;
        top: 50%;
        transform-origin: center top;
      }
      .hour:after {
        content: "";
        position: absolute;
        bottom: -7px;
        width: 14px;
        height: 14px;
        background-color: #ffffff;
        transform: rotate(45deg) skew(15deg, 15deg);
      }
      .minute {
        width: 10px;
        height: 155px;
        background-color: #ffffff;
        position: absolute;
        left: 50%;
        margin-left: -5px;
        top: 50%;
        transform-origin: center top;
      }
      .minute:after {
        content: "";
        position: absolute;
        bottom: -5px;
        width: 10px;
        height: 10px;
        background-color: #ffffff;
        transform: rotate(45deg) skew(15deg, 15deg);
      }
      .second {
        width: 6px;
        height: 225px;
        background-color: #f16b41;
        border-radius: 3px;
        position: absolute;
        left: 50%;
        margin-left: -3px;
        top: 50%;
        margin-top: -50px;
        transform-origin: center 50px;
      }
      .dot {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background-color: #f16b41;
        position: absolute;
        left: 50%;
        margin-left: -10px;
        top: 50%;
        margin-top: -10px;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <ul id="scale-container"></ul>
      <div class="hour"></div>
      <div class="minute"></div>
      <div class="second"></div>
      <div class="dot"></div>
    </div>

    <script type="application/javascript">
      var scaleCont = document.getElementById("scale-container");

      for (var i = 0; i < 60; i++) {
        scaleCont.innerHTML +=
          '<li style="transform: rotate(' + i * 6 + 'deg);"></li>';
      }

      // 绘制时间
      function drawTime() {
        var myDate = new Date();
        var h = myDate.getHours();
        var m = myDate.getMinutes();
        var s = myDate.getSeconds();

        console.log(h, m, s);

        var hour = document.getElementsByClassName("hour")[0];
        var minute = document.getElementsByClassName("minute")[0];
        var second = document.getElementsByClassName("second")[0];
        //					var offset = ((m*6 + 180)/120); //时针偏移量
        var offset = ((m * 6) / 360) * 30; //时针偏移量

        hour.style.transform = "rotate(" + (h * 30 + 180 + offset) + "deg)";
        minute.style.transform = "rotate(" + (m * 6 + 180) + "deg)";
        second.style.transform = "rotate(" + (s * 6 + 180) + "deg)";
      }

      drawTime();

      setInterval(function () {
        drawTime();
      }, 1000);
    </script>
  </body>
</html>
